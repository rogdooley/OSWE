import argparse
from .context import ExploitContext
from .helpers import OffsecLogger, DataFaker

class ExploitSkeleton:
    def __init__(self, ctx: ExploitContext, args: argparse.Namespace):
        self.ctx = ctx
        self.args = args
        self.logger = OffsecLogger(debug=args.debug)
        self.user = DataFaker()

    def setup(self):
        raise NotImplementedError("Setup must be implemented by the exploit script.")

    def exploit(self):
        raise NotImplementedError("Exploit must be implemented by the exploit script.")

    def run(self):
        self.logger.info("Starting exploit skeleton...")
        self.setup()
        self.exploit()
        self.ctx.save()
